{"version":3,"sources":["components/clients/common/Loading/index.jsx","common/index.js","components/clients/Dashboard/CardItem/index.jsx","components/clients/common/Chartjs/Apexcharts/index.jsx","components/clients/Dashboard/InfoChart/index.jsx","components/clients/Dashboard/index.jsx","containers/clients/Dashboard/index.jsx"],"names":["LoadingContainer","props","className","color","style","width","height","numberWithCommas","x","toString","pattern","test","replace","colorsData","CardItem","id","image","title","investmentDate","investmentAmount","estimatedReturn","totalRoi","anualRoi","dispatch","useDispatch","history","useHistory","handleViewDetail","a","getDetailMyProjectApi","push","md","src","alt","onClick","moment","format","PieApexcharts","options","series","margin","type","InfoChart","total","refChart","useRef","useState","widthBox","setWidthBox","useEffect","current","_width","offsetWidth","myRef","setWidth","setHeight","handleResize","offsetHeight","window","addEventListener","removeEventListener","useResize","ref","DashboardContent","useSelector","state","projects","loading","myProjects","chartData","user","users","getProfileApi","getMyProjectsDashboardApi","role","localStorage","getItem","dataChart1","investmentDistribution","chart","colors","labels","chartLabels","plotOptions","pie","dataLabels","offset","formatter","val","opts","w","globals","seriesIndex","textAlign","fontSize","legend","show","responsive","breakpoint","position","dataChart2","expectedReturn","dropShadow","enabled","top","left","blur","opacity","Loading","results","i","length","item","_id","process","picture","key","name","renderItems","lg","investmentDistributionTotal","expectedReturnTotal","DashboardPage"],"mappings":"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","file":"static/js/23.c75e991c.chunk.js","sourcesContent":["import React from \"react\";\nimport './index.scss'\n\nimport { CSpinner } from \"@coreui/react\";\n\nconst LoadingContainer = (props) => {\n  return (\n    <div className=\"loadingContainer\">\n      <CSpinner color=\"primary\" style={{ width: \"4rem\", height: \"4rem\" }} />\n    </div>\n  );\n};\n\nexport default LoadingContainer;\n","/* eslint-disable import/no-anonymous-default-export */\nexport const numberWithCommas = (x) => {\n  x = x.toString();\n  var pattern = /(-?\\d+)(\\d{3})/;\n  while (pattern.test(x)) x = x.replace(pattern, \"$1,$2\");\n  return x;\n};\n\nexport const colorsData = [\n  \"#f17522\",\n  \"#9c9c9c\",\n  \"#f7c028\",\n  \"#15a5e7\",\n  \"#F67280\",\n  \"#6C5B7B\",\n  \"#355C7D\",\n  \"#FECEAB\",\n  \"#E84A5F\",\n  \"#A8E6CE\",\n  \"#FF8C94\",\n  \"#CC527A\",\n  \"#363636\",\n  \"#A7226E\",\n  \"#EC2049\",\n  \"#2F9599\",\n  \"#F7DB4F\",\n];\n\nexport default {\n  numberWithCommas,\n  colorsData,\n};\n","import React from \"react\";\nimport \"./index.scss\";\nimport { useHistory } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch } from \"react-redux\";\n\n// actions\nimport { getDetailMyProjectApi } from \"../../../../stores/reducers/projectSlice\";\n\n// ui\nimport { CRow, CCol } from \"@coreui/react\";\nimport moment from \"moment\";\n\nconst CardItem = ({\n  id,\n  image,\n  title,\n  investmentDate,\n  investmentAmount,\n  estimatedReturn,\n  totalRoi,\n  anualRoi,\n}) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleViewDetail = async () => {\n    await dispatch(getDetailMyProjectApi(id));\n    await history.push(`/dashboard/my-projects/${id}`);\n  };\n\n  return (\n    <div className=\"cardItem\">\n      <CRow>\n        <CCol md={6}>\n          <img\n            src={image}\n            alt=\"\"\n            style={{ width: \"100%\" }}\n            onClick={handleViewDetail}\n          />\n        </CCol>\n        <CCol md={6}>\n          <div className=\"title\">\n            <h3 onClick={handleViewDetail}>{title}</h3>\n          </div>\n        </CCol>\n      </CRow>\n\n      <div className=\"description\">\n        <p className=\"textLeft\">Investment date:</p>\n        <p className=\"textRight\">\n          {moment(investmentDate).format(\"MMM DD YYYY\")}\n        </p>\n      </div>\n\n      <div className=\"description\">\n        <p className=\"textLeft\">Investment Amount:</p>\n        <p className=\"textRight\">$ {investmentAmount}</p>\n      </div>\n\n      <div className=\"description\">\n        <p className=\"textLeft\">Estimated Return:</p>\n        <p className=\"textRight\">$ {estimatedReturn}</p>\n      </div>\n\n      <div className=\"description\">\n        <p className=\"textLeft\">Estimated Total ROI:</p>\n        <p className=\"textRight\">{totalRoi}%</p>\n      </div>\n\n      <div className=\"description\">\n        <p className=\"textLeft\">Estimated Anual ROI:</p>\n        <p className=\"textRight\">{anualRoi}%</p>\n      </div>\n    </div>\n  );\n};\n\nCardItem.propTypes = {\n  image: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  anualRoi: PropTypes.number,\n  totalRoi: PropTypes.number,\n  investmentAmount: PropTypes.number,\n};\n\nexport default CardItem;\n","import React from \"react\";\nimport \"./index.scss\";\n\nimport ReactApexChart from \"react-apexcharts\";\n\nconst PieApexcharts = ({ options, series, width }) => {\n  return (\n    <div id=\"chart\" style={{ margin: \"15px 0\" }}>\n      <ReactApexChart\n        options={options}\n        series={series}\n        type=\"pie\"\n        width={width}\n      />\n    </div>\n  );\n};\n\nexport default PieApexcharts;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport \"./index.scss\";\nimport PropTypes from \"prop-types\";\n\nimport PieApexcharts from \"../../common/Chartjs/Apexcharts\";\n\nconst useResize = (myRef) => {\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(myRef.current.offsetWidth);\n      setHeight(myRef.current.offsetHeight);\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [myRef]);\n\n  return { width, height };\n};\n\nconst InfoChart = ({ title, total, options, series }) => {\n  const refChart = useRef(null);\n\n  const [widthBox, setWidthBox] = useState(0);\n\n  useEffect(() => {\n    if (refChart.current) {\n      const _width = refChart.current.offsetWidth;\n      setWidthBox(_width);\n    }\n  }, [refChart]);\n\n  const { width } = useResize(refChart);\n\n  return (\n    <div className=\"infoChart\">\n      <h2>{title}</h2>\n\n      <div className=\"viewChart\" ref={refChart}>\n        {widthBox && (\n          <PieApexcharts\n            title={title}\n            width={width === 0 ? widthBox : width}\n            options={options}\n            series={series}\n          />\n        )}\n      </div>\n\n      <h4>Total: {total}</h4>\n    </div>\n  );\n};\n\nInfoChart.propTypes = {\n  title: PropTypes.string,\n  total: PropTypes.string,\n};\n\nexport default InfoChart;\n","import React, { useEffect } from \"react\";\nimport \"./index.scss\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { colorsData } from \"../../../common\";\n// actions\nimport { getMyProjectsDashboardApi } from \"../../../stores/reducers/projectSlice\";\nimport { getProfileApi } from \"../../../stores/reducers/userSlice\";\n\n// ui\nimport { CContainer, CRow, CCol } from \"@coreui/react\";\n\n// components\nimport CardItem from \"./CardItem\";\nimport InfoChart from \"./InfoChart\";\nimport LoadingContainer from \"../common/Loading\";\n\nconst numberWithCommas = (x) => {\n  x = x.toString();\n  var pattern = /(-?\\d+)(\\d{3})/;\n  while (pattern.test(x)) x = x.replace(pattern, \"$1,$2\");\n  return x;\n};\n\nconst DashboardContent = (props) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const { loading, myProjects, chartData } = useSelector(\n    (state) => state.projects\n  );\n  const { user } = useSelector((state) => state.users);\n\n  useEffect(() => {\n    dispatch(getProfileApi());\n    dispatch(getMyProjectsDashboardApi());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (user && user.role && user.role === \"admin\") {\n      history.push(\"/admin\");\n    }\n  }, [user, history]);\n\n  useEffect(() => {\n    const checkLogin = localStorage.getItem(\"isLogin\");\n    if (!checkLogin) {\n      history.push(\"/login\");\n    }\n  }, [history]);\n\n  const dataChart1 = {\n    series: chartData && chartData.investmentDistribution,\n    options: {\n      chart: {\n        // width: props.width,\n        type: \"pie\",\n      },\n      colors: colorsData,\n      labels: chartData && chartData.chartLabels,\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            offset: -22,\n          },\n        },\n      },\n      dataLabels: {\n        formatter(val, opts) {\n          const name = opts.w.globals.labels[opts.seriesIndex];\n          const value = `$${numberWithCommas(\n            dataChart1.series[opts.seriesIndex]\n          )}`;\n          return [name, value];\n        },\n        style: {\n          textAlign: \"center\",\n          fontSize: \"13px\",\n        },\n      },\n      legend: {\n        show: false,\n      },\n      responsive: [\n        {\n          breakpoint: 480,\n          options: {\n            legend: {\n              position: \"center\",\n            },\n          },\n        },\n      ],\n    },\n  };\n\n  const dataChart2 = {\n    series: chartData && chartData.expectedReturn,\n    options: {\n      chart: {\n        // width: props.width,\n        type: \"pie\",\n      },\n      colors: colorsData,\n      labels: chartData && chartData.chartLabels,\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            offset: -22,\n          },\n        },\n      },\n      dropShadow: {\n        enabled: true,\n        top: 0,\n        left: 0,\n        blur: 3,\n        opacity: 0.5,\n      },\n      dataLabels: {\n        formatter(val, opts) {\n          const name = opts.w.globals.labels[opts.seriesIndex];\n          const value = `$${numberWithCommas(\n            dataChart2.series[opts.seriesIndex]\n          )}`;\n          return [name, value];\n        },\n        style: {\n          textAlign: \"center\",\n          fontSize: \"13px\",\n        },\n      },\n      legend: {\n        show: false,\n      },\n      responsive: [\n        {\n          breakpoint: 480,\n          options: {\n            legend: {\n              position: \"center\",\n            },\n          },\n        },\n      ],\n    },\n  };\n\n  const renderItems = () => {\n    const results = [];\n\n    for (let i = 0; i < myProjects.length; i++) {\n      const item = myProjects[i];\n      results.push(\n        <CCol md={6} key={i}>\n          <CardItem\n            id={item._id}\n            image={`${process.env.REACT_APP_CLOUD_FRONT_URI}${\n              item.picture && item.picture.key\n            }`}\n            title={item.name}\n            investmentDate={item.investmentDate}\n            investmentAmount={item.investmentAmount}\n            estimatedReturn={item.estimatedReturn}\n            totalRoi={item.totalRoi}\n            anualRoi={item.anualRoi}\n          />\n        </CCol>\n      );\n    }\n\n    return results;\n  };\n\n  return (\n    <div className=\"dashboardContent\">\n      {loading ? (\n        <LoadingContainer />\n      ) : (\n        <CContainer>\n          <h2>Personal Investments</h2>\n\n          <CRow>{renderItems()}</CRow>\n\n          <CRow>\n            <CCol lg={6}>\n              <InfoChart\n                title=\"Investment Distribution\"\n                total={`$${\n                  (chartData &&\n                    numberWithCommas(chartData.investmentDistributionTotal)) ||\n                  0\n                }`}\n                options={dataChart1.options}\n                series={dataChart1.series}\n              />\n            </CCol>\n            <CCol lg={6}>\n              <InfoChart\n                title=\"Expected Return\"\n                total={`$${\n                  (chartData &&\n                    numberWithCommas(chartData.expectedReturnTotal)) ||\n                  0\n                }`}\n                options={dataChart2.options}\n                series={dataChart2.series}\n              />\n            </CCol>\n          </CRow>\n        </CContainer>\n      )}\n    </div>\n  );\n};\n\nexport default DashboardContent;\n","import React from \"react\";\nimport \"./index.scss\";\n\nimport DashboardContent from \"../../../components/clients/Dashboard\";\n\nconst DashboardPage = (props) => {\n  return (\n    <div className=\"dashboadClient\">\n      <DashboardContent />\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"sourceRoot":""}