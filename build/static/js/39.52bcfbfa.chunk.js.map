{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/clients/common/Loading/index.jsx","containers/admin/Projects/index.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","LoadingContainer","props","className","color","style","width","height","Projects","dispatch","useDispatch","history","useHistory","useSelector","state","projects","adminProjects","loading","error","isDeletedProject","useState","showConfirmDelete","setShowConfirmDelete","idDelete","setIdDelete","useEffect","resetData","getAllProjectsApi","toast","success","console","log","message","getBadge","status","handleEditUser","id","a","getDetailProject","handleDeleteUser","deleteProjectApi","show","onClose","centered","closeButton","onClick","textAlign","marginBottom","items","fields","key","_classes","label","hover","pagination","striped","itemsPerPage","activePage","clickableRows","scopedSlots","userAssigned","item","firstName","lastName","cityProject","city","phone","updatedAt","moment","format","_id"],"mappings":"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","file":"static/js/39.52bcfbfa.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport './index.scss'\n\nimport { CSpinner } from \"@coreui/react\";\n\nconst LoadingContainer = (props) => {\n  return (\n    <div className=\"loadingContainer\">\n      <CSpinner color=\"primary\" style={{ width: \"4rem\", height: \"4rem\" }} />\n    </div>\n  );\n};\n\nexport default LoadingContainer;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from \"react\";\nimport \"./index.scss\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n// action\nimport {\n  getAllProjectsApi,\n  deleteProjectApi,\n  getDetailProject,\n  resetData,\n} from \"../../../stores/reducers/projectSlice\";\n\n// icons\nimport { FaPen, FaTrash } from \"react-icons/fa\";\nimport {\n  CDataTable,\n  CBadge,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CModal,\n  CModalHeader,\n  CModalFooter,\n  CButton,\n} from \"@coreui/react\";\n// components\nimport LoadingContainer from \"../../../components/clients/common/Loading\";\n\nconst Projects = (props) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { adminProjects, loading, error, isDeletedProject } = useSelector(\n    (state) => state.projects\n  );\n\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n  const [idDelete, setIdDelete] = useState(null);\n\n  useEffect(() => {\n    dispatch(resetData());\n    dispatch(getAllProjectsApi());\n    return () => {\n      dispatch(resetData());\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isDeletedProject) {\n      toast.success(\"Deleted project successfully!\");\n      setIdDelete(null);\n      setShowConfirmDelete(false);\n      dispatch(getAllProjectsApi());\n    }\n\n    return () => {\n      dispatch(resetData());\n    };\n  }, [isDeletedProject, dispatch]);\n\n  useEffect(() => {\n    if (error) {\n      console.log(\"error: \", error);\n      toast.error(error.message);\n    }\n\n    return () => {\n      dispatch(resetData());\n    };\n  }, [error, dispatch]);\n\n  const getBadge = (status) => {\n    switch (status) {\n      case \"active\":\n        return \"success\";\n      case \"inactive\":\n        return \"secondary\";\n      case \"blocked\":\n        return \"danger\";\n      case \"deleted\":\n        return \"danger\";\n      default:\n        return \"primary\";\n    }\n  };\n\n  const handleEditUser = async (id) => {\n    await dispatch(getDetailProject(id));\n    await history.push(`/admin/projects/${id}`);\n  };\n\n  const handleConfirmDeleteUser = (id) => {\n    setIdDelete(id);\n    setShowConfirmDelete(true);\n  };\n\n  const handleToggle = () => {\n    setShowConfirmDelete(!showConfirmDelete);\n  };\n\n  const handleCancelDelete = () => {\n    setShowConfirmDelete(false);\n    setIdDelete(null);\n  };\n\n  const handleDeleteUser = async () => {\n    // await dispatch(resetData());\n    await dispatch(deleteProjectApi(idDelete));\n  };\n\n  const handleCreateProject = () => {\n    history.push(\"/admin/projects/add\");\n  };\n\n  return (\n    <div className=\"adminUserPage\">\n      <CModal show={showConfirmDelete} onClose={handleToggle} centered>\n        <CModalHeader closeButton>Are you sure delete project?</CModalHeader>\n        <CModalFooter>\n          <CButton color=\"default\" onClick={handleCancelDelete}>\n            Cancel\n          </CButton>\n          <CButton color=\"danger\" onClick={handleDeleteUser}>\n            Delete\n          </CButton>\n        </CModalFooter>\n      </CModal>\n\n      <CCard>\n        <CCardHeader>All Projects</CCardHeader>\n        <CCardBody>\n          {loading ? (\n            <LoadingContainer />\n          ) : (\n            <>\n              <div style={{ textAlign: \"right\", marginBottom: 15 }}>\n                <CButton color=\"success\" onClick={handleCreateProject}>\n                  Create Project\n                </CButton>\n              </div>\n              <CDataTable\n                items={adminProjects}\n                fields={[\n                  { key: \"name\", _classes: \"font-weight-bold\" },\n                  { key: \"cityProject\", label: \"City\" },\n                  \"userAssigned\",\n                  { key: \"flagDashboard\", label: \"Show Dashboard\" },\n                  { key: \"flagIndex\", label: \"Index\" },\n                  \"status\",\n                  // \"updatedAt\",\n                  { key: \"_id\", label: \"Actions\" },\n                ]}\n                hover\n                pagination\n                striped\n                itemsPerPage={5}\n                activePage={1}\n                clickableRows\n                // onRowClick={(item) => history.push(`/users/${item.id}`)}\n                scopedSlots={{\n                  userAssigned: (item) => (\n                    <td>\n                      {(item.userAssigned && item.userAssigned.firstName) || \"\"}{\" \"}\n                      {(item.userAssigned && item.userAssigned.lastName) || \"\"}\n                    </td>\n                  ),\n                  cityProject: (item) => (\n                    <td>{(item.cityProject && item.cityProject.city) || \"\"}</td>\n                  ),\n                  lastName: (item) => <td>{item.lastName || \"\"}</td>,\n                  phone: (item) => <td>{item.phone || \"\"}</td>,\n                  status: (item) => (\n                    <td>\n                      <CBadge color={getBadge(item.status)}>\n                        {item.status}\n                      </CBadge>\n                    </td>\n                  ),\n                  updatedAt: (item) => (\n                    <td>{moment(item.updatedAt).format(\"MM/DD/YYYY H:mm\")}</td>\n                  ),\n                  _id: (item) => (\n                    <td className=\"tdActions\">\n                      <a onClick={() => handleEditUser(item._id)}>\n                        <FaPen />\n                      </a>\n                      <a onClick={() => handleConfirmDeleteUser(item._id)}>\n                        <FaTrash />\n                      </a>\n                    </td>\n                  ),\n                }}\n              />\n            </>\n          )}\n        </CCardBody>\n      </CCard>\n    </div>\n  );\n};\n\nexport default Projects;\n"],"sourceRoot":""}