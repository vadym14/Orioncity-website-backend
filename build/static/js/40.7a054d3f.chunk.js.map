{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/clients/common/Loading/index.jsx","containers/admin/Users/index.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","LoadingContainer","props","className","color","style","width","height","Users","dispatch","useDispatch","history","useHistory","useSelector","state","users","loading","isDeletedUser","error","useState","showConfirmDelete","setShowConfirmDelete","idDelete","setIdDelete","useEffect","getAllUsersApi","resetData","toast","success","console","log","message","getBadge","status","handleEditUser","id","a","getUserDetailApi","handleDeleteUser","deleteUserApi","show","onClose","centered","closeButton","onClick","textAlign","marginBottom","items","fields","key","_classes","label","hover","striped","itemsPerPage","activePage","pagination","scopedSlots","firstName","item","lastName","phone","updatedAt","moment","format","_id"],"mappings":"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","file":"static/js/40.7a054d3f.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport './index.scss'\n\nimport { CSpinner } from \"@coreui/react\";\n\nconst LoadingContainer = (props) => {\n  return (\n    <div className=\"loadingContainer\">\n      <CSpinner color=\"primary\" style={{ width: \"4rem\", height: \"4rem\" }} />\n    </div>\n  );\n};\n\nexport default LoadingContainer;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from \"react\";\nimport \"./index.scss\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n// action\nimport {\n  getAllUsersApi,\n  getUserDetailApi,\n  deleteUserApi,\n  resetData,\n} from \"../../../stores/reducers/userSlice\";\n\n// icons\nimport { FaPen, FaTrash } from \"react-icons/fa\";\nimport {\n  CDataTable,\n  CBadge,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CModal,\n  CModalHeader,\n  CModalFooter,\n  CButton,\n} from \"@coreui/react\";\n// components\nimport LoadingContainer from \"../../../components/clients/common/Loading\";\n\nconst Users = (props) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { users, loading, isDeletedUser, error } = useSelector(\n    (state) => state.users\n  );\n\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n  const [idDelete, setIdDelete] = useState(null);\n\n  useEffect(() => {\n    dispatch(getAllUsersApi());\n    return () => {\n      dispatch(resetData());\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isDeletedUser) {\n      toast.success(\"Deleted user successfully!\");\n      setIdDelete(null);\n      setShowConfirmDelete(false);\n      dispatch(getAllUsersApi());\n    }\n\n    return () => {\n      dispatch(resetData());\n    };\n  }, [isDeletedUser, dispatch]);\n\n  useEffect(() => {\n    if (error) {\n      console.log(\"error: \", error);\n      toast.error(error.message);\n    }\n\n    return () => {\n      dispatch(resetData());\n    };\n  }, [error, dispatch]);\n\n  const getBadge = (status) => {\n    switch (status) {\n      case \"active\":\n        return \"success\";\n      case \"inactive\":\n        return \"secondary\";\n      case \"blocked\":\n        return \"danger\";\n      case \"deleted\":\n        return \"danger\";\n      default:\n        return \"primary\";\n    }\n  };\n\n  const handleEditUser = async (id) => {\n    await dispatch(getUserDetailApi(id));\n    await history.push(`/admin/users/${id}`);\n  };\n\n  const handleConfirmDeleteUser = (id) => {\n    setIdDelete(id);\n    setShowConfirmDelete(true);\n  };\n\n  const handleToggle = () => {\n    setShowConfirmDelete(!showConfirmDelete);\n  };\n\n  const handleCancelDelete = () => {\n    setShowConfirmDelete(false);\n    setIdDelete(null);\n  };\n\n  const handleDeleteUser = async () => {\n    await dispatch(resetData());\n    await dispatch(deleteUserApi(idDelete));\n  };\n\n  const handleCreateUser = () => {\n    history.push(\"/admin/users/add\");\n  };\n\n  return (\n    <div className=\"adminUserPage\">\n      <CModal show={showConfirmDelete} onClose={handleToggle} centered>\n        <CModalHeader closeButton>Are you sure delete user?</CModalHeader>\n        <CModalFooter>\n          <CButton color=\"default\" onClick={handleCancelDelete}>\n            Cancel\n          </CButton>\n          <CButton color=\"danger\" onClick={handleDeleteUser}>\n            Delete\n          </CButton>\n        </CModalFooter>\n      </CModal>\n\n      <CCard>\n        <CCardHeader>All Users</CCardHeader>\n        <CCardBody>\n          {loading ? (\n            <LoadingContainer />\n          ) : (\n            <>\n              <div style={{ textAlign: \"right\", marginBottom: 15 }}>\n                <CButton color=\"success\" onClick={handleCreateUser}>\n                  Create User\n                </CButton>\n              </div>\n              <CDataTable\n                items={users}\n                fields={[\n                  { key: \"firstName\", _classes: \"font-weight-bold\" },\n                  \"lastName\",\n                  \"email\",\n                  \"phone\",\n                  \"role\",\n                  \"status\",\n                  \"updatedAt\",\n                  { key: \"_id\", label: \"Actions\" },\n                ]}\n                hover\n                striped\n                itemsPerPage={5}\n                activePage={1}\n                pagination\n                // clickableRows\n                // onRowClick={(item) => history.push(`/users/${item.id}`)}\n                scopedSlots={{\n                  firstName: (item) => <td>{item.firstName || \"\"}</td>,\n                  lastName: (item) => <td>{item.lastName || \"\"}</td>,\n                  phone: (item) => <td>{item.phone || \"\"}</td>,\n                  status: (item) => (\n                    <td>\n                      <CBadge color={getBadge(item.status)}>\n                        {item.status}\n                      </CBadge>\n                    </td>\n                  ),\n                  updatedAt: (item) => (\n                    <td>{moment(item.updatedAt).format(\"MM/DD/YYYY H:mm\")}</td>\n                  ),\n                  _id: (item) => (\n                    <td className=\"tdActions\">\n                      <a onClick={() => handleEditUser(item._id)}>\n                        <FaPen />\n                      </a>\n                      <a onClick={() => handleConfirmDeleteUser(item._id)}>\n                        <FaTrash />\n                      </a>\n                    </td>\n                  ),\n                }}\n              />\n              {/* <CPagination\n                activePage={1}\n                onActivePageChange={pageChange}\n                pages={5}\n                doubleArrows={false}\n                align=\"center\"\n              /> */}\n            </>\n          )}\n        </CCardBody>\n      </CCard>\n    </div>\n  );\n};\n\nexport default Users;\n"],"sourceRoot":""}