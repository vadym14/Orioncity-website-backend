{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/clients/common/Loading/index.jsx","containers/admin/Cities/index.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","LoadingContainer","props","className","color","style","width","height","Cities","dispatch","useDispatch","history","useHistory","useSelector","state","cities","citiesOfProjects","loading","error","isDeletedCity","useState","showConfirmDelete","setShowConfirmDelete","idDelete","setIdDelete","useEffect","getAllCitiesApi","resetData","toast","success","console","log","message","handleEditUser","id","a","getDetailCityApi","handleDeleteUser","deleteCityApi","show","onClose","centered","closeButton","onClick","textAlign","marginBottom","items","fields","key","_classes","label","hover","striped","itemsPerPage","activePage","pagination","scopedSlots","updatedAt","item","moment","format","_id"],"mappings":"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","file":"static/js/35.fd6f2df2.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport './index.scss'\n\nimport { CSpinner } from \"@coreui/react\";\n\nconst LoadingContainer = (props) => {\n  return (\n    <div className=\"loadingContainer\">\n      <CSpinner color=\"primary\" style={{ width: \"4rem\", height: \"4rem\" }} />\n    </div>\n  );\n};\n\nexport default LoadingContainer;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from \"react\";\nimport \"./index.scss\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n// action\nimport {\n  getAllCitiesApi,\n  resetData,\n  getDetailCityApi,\n  deleteCityApi,\n} from \"../../../stores/reducers/citySlice\";\n\n// icons\nimport { FaPen, FaTrash } from \"react-icons/fa\";\nimport {\n  CDataTable,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CModal,\n  CModalHeader,\n  CModalFooter,\n  CButton,\n} from \"@coreui/react\";\n// components\nimport LoadingContainer from \"../../../components/clients/common/Loading\";\n\nconst Cities = (props) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { citiesOfProjects, loading, error, isDeletedCity } = useSelector(\n    (state) => state.cities\n  );\n\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n  const [idDelete, setIdDelete] = useState(null);\n\n  useEffect(() => {\n    dispatch(getAllCitiesApi());\n    return () => {\n      dispatch(resetData());\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isDeletedCity) {\n      toast.success(\"Deleted city successfully!\");\n      setIdDelete(null);\n      setShowConfirmDelete(false);\n      dispatch(getAllCitiesApi());\n    }\n\n    return () => {\n      dispatch(resetData());\n    };\n  }, [isDeletedCity, dispatch]);\n\n  useEffect(() => {\n    if (error) {\n      console.log(\"error: \", error);\n      toast.error(error.message);\n    }\n\n    return () => {\n      dispatch(resetData());\n    };\n  }, [error, dispatch]);\n\n  const handleEditUser = async (id) => {\n    await dispatch(getDetailCityApi(id));\n    await history.push(`/admin/cities/${id}`);\n  };\n\n  const handleConfirmDeleteUser = (id) => {\n    setIdDelete(id);\n    setShowConfirmDelete(true);\n  };\n\n  const handleToggle = () => {\n    setShowConfirmDelete(!showConfirmDelete);\n  };\n\n  const handleCancelDelete = () => {\n    setShowConfirmDelete(false);\n    setIdDelete(null);\n  };\n\n  const handleDeleteUser = async () => {\n    await dispatch(resetData());\n    await dispatch(deleteCityApi(idDelete));\n  };\n\n  const handleCreateCity = () => {\n    history.push(\"/admin/cities/add\");\n  };\n\n  return (\n    <div className=\"adminUserPage\">\n      <CModal show={showConfirmDelete} onClose={handleToggle} centered>\n        <CModalHeader closeButton>Are you sure delete user?</CModalHeader>\n        <CModalFooter>\n          <CButton color=\"default\" onClick={handleCancelDelete}>\n            Cancel\n          </CButton>\n          <CButton color=\"danger\" onClick={handleDeleteUser}>\n            Delete\n          </CButton>\n        </CModalFooter>\n      </CModal>\n\n      <CCard>\n        <CCardHeader>All Cities</CCardHeader>\n        <CCardBody>\n          {loading ? (\n            <LoadingContainer />\n          ) : (\n            <>\n              <div style={{ textAlign: \"right\", marginBottom: 15 }}>\n                <CButton color=\"success\" onClick={handleCreateCity}>\n                  Create City\n                </CButton>\n              </div>\n              <CDataTable\n                items={citiesOfProjects}\n                fields={[\n                  { key: \"city\", _classes: \"font-weight-bold\" },\n                  \"country\",\n                  \"state\",\n                  \"updatedAt\",\n                  { key: \"_id\", label: \"Actions\" },\n                ]}\n                hover\n                striped\n                itemsPerPage={5}\n                activePage={1}\n                pagination\n                // clickableRows\n                // onRowClick={(item) => history.push(`/users/${item.id}`)}\n                scopedSlots={{\n                  updatedAt: (item) => (\n                    <td>{moment(item.updatedAt).format(\"MM/DD/YYYY H:mm\")}</td>\n                  ),\n                  _id: (item) => (\n                    <td className=\"tdActions\">\n                      <a onClick={() => handleEditUser(item._id)}>\n                        <FaPen />\n                      </a>\n                      <a onClick={() => handleConfirmDeleteUser(item._id)}>\n                        <FaTrash />\n                      </a>\n                    </td>\n                  ),\n                }}\n              />\n            </>\n          )}\n        </CCardBody>\n      </CCard>\n    </div>\n  );\n};\n\nexport default Cities;\n"],"sourceRoot":""}